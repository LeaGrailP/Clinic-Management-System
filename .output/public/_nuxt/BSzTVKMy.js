import{r as d,e as h,c as u,a as e,f as g,t as r,g as k,h as a,v as o,F as _,i as N,o as p}from"./_qwiZnX4.js";const C={class:"p-6"},P={key:0,class:"fixed inset-0 bg-black bg-opacity-30 flex justify-center items-center"},V={class:"bg-white p-6 rounded-lg w-full max-w-md"},M={class:"text-xl font-semibold mb-4"},U={class:"mt-6"},A={class:"w-full text-left border"},B={class:"p-2"},E={class:"p-2"},S={class:"p-2"},D={class:"p-2 space-x-2"},$=["onClick"],j=["onClick"],I={__name:"user",setup(F){const c=d(!1),i=d(!1),m=d([]),n=d({id:null,patientname:"",address:"",number:"",business:"",tin:""});function v(l=null){l?(i.value=!0,n.value={...l}):(i.value=!1,n.value={id:null,patientname:"",address:"",number:"",business:"",tin:""}),c.value=!0}function f(){c.value=!1}async function b(){const l=await window.electron.invoke("get-patients");m.value=l||[]}async function x(){i.value?await window.electron.invoke("update-patient",{...n.value}):await window.electron.invoke("add-patient",{...n.value}),f(),b()}async function w(l){confirm("Are you sure you want to delete this patient?")&&(await window.electron.invoke("delete-patient",l),b())}return h(b),(l,t)=>(p(),u("div",C,[e("button",{onClick:t[0]||(t[0]=s=>v()),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," New Patient "),c.value?(p(),u("div",P,[e("div",V,[e("h2",M,r(i.value?"Edit Patient":"New Patient"),1),e("form",{onSubmit:k(x,["prevent"])},[a(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.patientname=s),type:"text",class:"mb-2 w-full border px-3 py-2 rounded",placeholder:"Name"},null,512),[[o,n.value.patientname]]),a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.value.address=s),type:"text",class:"mb-2 w-full border px-3 py-2 rounded",placeholder:"Address"},null,512),[[o,n.value.address]]),a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>n.value.number=s),type:"text",class:"mb-2 w-full border px-3 py-2 rounded",placeholder:"Number"},null,512),[[o,n.value.number]]),a(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>n.value.business=s),type:"text",class:"mb-2 w-full border px-3 py-2 rounded",placeholder:"Business Style"},null,512),[[o,n.value.business]]),a(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>n.value.tin=s),type:"text",class:"mb-4 w-full border px-3 py-2 rounded",placeholder:"TIN"},null,512),[[o,n.value.tin]]),e("div",{class:"flex justify-end space-x-2"},[e("button",{type:"button",onClick:f,class:"px-4 py-2 rounded border"},"Cancel"),t[6]||(t[6]=e("button",{type:"submit",class:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700"},"Save",-1))])],32)])])):g("",!0),e("div",U,[t[8]||(t[8]=e("h2",{class:"text-lg font-bold mb-2"},"Patients",-1)),e("table",A,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"bg-gray-100"},[e("th",{class:"p-2"},"Name"),e("th",{class:"p-2"},"Address"),e("th",{class:"p-2"},"Number"),e("th",{class:"p-2"},"Actions")])],-1)),e("tbody",null,[(p(!0),u(_,null,N(m.value,s=>(p(),u("tr",{key:s.id},[e("td",B,r(s.patientname),1),e("td",E,r(s.address),1),e("td",S,r(s.number),1),e("td",D,[e("button",{onClick:y=>v(s),class:"text-blue-600"},"Edit",8,$),e("button",{onClick:y=>w(s.id),class:"text-red-600"},"Delete",8,j)])]))),128))])])])]))}};export{I as default};
