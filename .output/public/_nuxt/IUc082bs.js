import{r as l,e as c,c as p,b,a as r,g,h as n,v as d,k as w,o as f}from"#entry";import{b as v}from"./DxxWhUES.js";const h={class:"min-h-screen flex items-center justify-center"},x={class:"z-10 p-8 bg-white bg-opacity-10 backdrop-blur-md rounded-lg shadow-lg"},L={__name:"index",setup(y){const t=l(""),s=l(""),u=w(),i=l(!1);c(()=>{localStorage.getItem("role")==="admin"&&(i.value=!0)});async function m(){try{const e=await window.auth.login({name:t.value,password:s.value});e&&e.success?(localStorage.setItem("name",e.name),localStorage.setItem("role",e.role),u.push("/dashboard")):alert(e?.error||"Login failed.")}catch(e){console.error("Login error:",e),alert("Something went wrong during login.")}}return(e,o)=>(f(),p("div",h,[b(v),r("div",x,[r("form",{onSubmit:g(m,["prevent"]),class:"p-8 rounded w-full max-w-sm"},[o[2]||(o[2]=r("h2",{class:"text-2xl font-bold mb-6 text-center text-white"},"FETHEA POS",-1)),n(r("input",{"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),type:"text",placeholder:"Name",class:"w-full p-2 border border-gray-300 rounded mb-4",required:""},null,512),[[d,t.value]]),n(r("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>s.value=a),type:"password",placeholder:"Password",class:"w-full p-2 border border-gray-300 rounded mb-6",required:""},null,512),[[d,s.value]]),o[3]||(o[3]=r("button",{type:"submit",class:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600"}," Login ",-1))],32)])]))}};export{L as default};
