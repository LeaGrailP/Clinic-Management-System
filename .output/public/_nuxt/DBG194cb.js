import{r as u,A as i,e as R,c as b,a as e,h as y,v as V,p as z,d as c,t as l,f as _,g as P,b as k,n as g,F as L,i as q,s as B,o as v}from"./BZLlapml.js";import{c as h}from"./DAAqD9cm.js";const U=h("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Z=h("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const j=h("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),D={class:"p-6 mx-auto"},H={class:"text-slate-800 dark:text-slate-100"},I={class:"mt-2 space-y-1"},$={class:"flex items-center gap-2 mt-4"},G={class:"bg-slate-50 dark:bg-slate-600 border-slate-200 dark:border-slate-700 text-slate-800 dark:text-slate-100 p-4 rounded shadow"},J={class:"flex justify-between items-center mb-4"},K={class:"table-auto w-full border-gray-400 text-sm"},O={class:"border p-2"},Q={class:"border p-2"},W={class:"border p-2"},X={class:"border p-2"},Y={class:"border p-2"},ee={class:"border p-2"},te={class:"border p-2"},ae={class:"border p-2"},se={class:"border p-2 space-x-2"},le=["onClick"],oe=["onClick"],re={key:0,class:"text-gray-500 text-sm mt-2"},ie={__name:"products",setup(de){const d=u(""),o=u(0),r=u(""),m=u([]),n=u(null);B();const f=i(()=>r.value==="vatable"?Number(o.value):0),x=i(()=>r.value==="vatable"?Number(o.value)*.12:0),N=i(()=>r.value==="exempt"?Number(o.value):0),w=i(()=>r.value==="zero"?Number(o.value):0),A=i(()=>Number(o.value)+Number(x.value));async function p(){try{const s=await window.electron.invoke("get-products");m.value=s.map(t=>({...t,price:Number(t.price),vatSales:Number(t.vatSales),vatAmount:Number(t.vatAmount),vatExempt:Number(t.vatExempt),zeroRated:Number(t.zeroRated),total:Number(t.total)}))}catch(s){console.error("Error fetching products:",s)}}function T(){n.value=null,d.value="",o.value=0,r.value=""}function S(s){n.value=s.id,d.value=s.productname,o.value=Number(s.price),r.value=s.vatType}function E(){T()}async function F(){const s={productname:d.value,price:Number(o.value),vatType:r.value,vatSales:Number(f.value),vatAmount:Number(x.value),vatExempt:Number(N.value),zeroRated:Number(w.value),total:Number(A.value)};n.value?(s.id=n.value,await window.electron.invoke("update-product",s)):await window.electron.invoke("add-product",s),T(),p()}async function M(s){confirm("Are you sure you want to delete this product?")&&(await window.electron.invoke("delete-product",s),p())}return R(p),(s,t)=>(v(),b("div",D,[e("form",{onSubmit:P(F,["prevent"]),class:"bg-slate-50 dark:bg-slate-600 border-slate-200 dark:border-slate-700 text-slate-800 dark:text-slate-100 p-4 rounded shadow mb-6 space-y-4"},[e("div",null,[t[3]||(t[3]=e("label",{class:"block font-semibold"},"Product Name",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>d.value=a),class:"w-full border-gray-400 px-3 py-2 rounded bg-slate-50 dark:bg-slate-800",placeholder:"e.g. Services",required:""},null,512),[[V,d.value]])]),e("div",null,[t[4]||(t[4]=e("label",{class:"block font-semibold"},"Price",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=a=>o.value=a),type:"number",step:"0.01",class:"w-full border-gray-400 px-3 py-2 rounded bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-100",required:""},null,512),[[V,o.value,void 0,{number:!0}]])]),e("div",H,[t[6]||(t[6]=e("label",{class:"block font-semibold"},"VAT Classification",-1)),y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>r.value=a),class:"w-full border-gray-400 px-3 py-2 rounded bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-100",required:""},[...t[5]||(t[5]=[e("option",{disabled:"",value:""},"-- Select VAT Type --",-1),e("option",{value:"vatable"},"VATable (12%)",-1),e("option",{value:"exempt"},"VAT-Exempt",-1),e("option",{value:"zero"},"Zero-Rated",-1)])],512),[[z,r.value]])]),e("div",I,[e("p",null,[t[7]||(t[7]=c("VAT Sales: ",-1)),e("strong",null,"₱"+l(Number(f.value).toFixed(2)),1)]),e("p",null,[t[8]||(t[8]=c("VAT Amount: ",-1)),e("strong",null,"₱"+l(Number(x.value).toFixed(2)),1)]),e("p",null,[t[9]||(t[9]=c("VAT-Exempt Sales: ",-1)),e("strong",null,"₱"+l(Number(N.value).toFixed(2)),1)]),e("p",null,[t[10]||(t[10]=c("Zero-Rated Sales: ",-1)),e("strong",null,"₱"+l(Number(w.value).toFixed(2)),1)]),e("p",null,[t[11]||(t[11]=c("Total Price: ",-1)),e("strong",null,"₱"+l(Number(A.value).toFixed(2)),1)])]),e("div",$,[t[12]||(t[12]=e("button",{type:"submit",class:"bg-sky-400 hover:bg-sky-600 font-semibold px-4 py-2 rounded"},"SAVE",-1)),n.value?(v(),b("button",{key:0,onClick:E,type:"button",class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded"}," CANCEL ")):_("",!0)])],32),e("div",G,[e("div",J,[e("button",{onClick:p,class:"bg-sky-400 hover:bg-sky-600 px-2 py-1 rounded text-lg"},[k(g(Z),{class:"w-4 h-4"})])]),e("table",K,[t[13]||(t[13]=e("thead",{class:"bg-slate-400"},[e("tr",{class:"dark:bg-slate-800 text-left"},[e("th",{class:"border p-2"},"Name"),e("th",{class:"border p-2"},"VAT Type"),e("th",{class:"border p-2"},"Price"),e("th",{class:"border p-2"},"VAT Sales"),e("th",{class:"border p-2"},"VAT Amount"),e("th",{class:"border p-2"},"VAT-Exempt"),e("th",{class:"border p-2"},"Zero-Rated"),e("th",{class:"border p-2"},"Total"),e("th",{class:"border p-2"},"Actions")])],-1)),e("tbody",null,[(v(!0),b(L,null,q(m.value,a=>(v(),b("tr",{key:a.id},[e("td",O,l(a.productname),1),e("td",Q,l(a.vatType),1),e("td",W,"₱"+l(Number(a.price||0).toFixed(2)),1),e("td",X,"₱"+l(Number(a.vatSales||0).toFixed(2)),1),e("td",Y,"₱"+l(Number(a.vatAmount||0).toFixed(2)),1),e("td",ee,"₱"+l(Number(a.vatExempt||0).toFixed(2)),1),e("td",te,"₱"+l(Number(a.zeroRated||0).toFixed(2)),1),e("td",ae,"₱"+l(Number(a.total||0).toFixed(2)),1),e("td",se,[e("button",{onClick:C=>S(a),class:"text-sky-600 hover:underline text-sm"},[k(g(U),{class:"w-4 h-4"})],8,le),e("button",{onClick:C=>M(a.id),class:"text-red-600 hover:underline text-sm"},[k(g(j),{class:"w-4 h-4"})],8,oe)])]))),128))])]),m.value.length===0?(v(),b("div",re," No products found. ")):_("",!0)])]))}};export{ie as default};
