import{r as n,e as f,k as c,c as v,b as g,a as l,g as w,h as u,v as d,n as x,o as y}from"#entry";import{b as k}from"./DxxWhUES.js";import{u as A}from"./Ca7fC-ZQ.js";const U={class:"min-h-screen flex items-center justify-center"},V={class:"z-10 p-8 border-sky-500 bg-opacity-10 backdrop-blur-md rounded-lg shadow-lg w-full max-w-md"},q={class:"space-y-4"},S={__name:"register",setup(P){const o=n(""),t=n(""),r=n(""),a=n(""),m=c(),{isAdmin:p}=A();f(()=>{p.value||(alert("Access denied. Admins only."),m.push("/"))});const b=async()=>{if(!o.value.trim()){alert("Full Name is required");return}if(!t.value){alert("Please select a role");return}if(r.value!==a.value){alert("Passwords do not match!");return}const i=await window.auth.register({name:o.value,password:r.value,role:t.value});i.success?(alert("Account created!"),m.push("/dashboard")):alert(i.error||"Registration failed.")};return(i,e)=>(y(),v("div",U,[g(k),l("div",V,[e[10]||(e[10]=l("h1",{class:"text-3xl font-bold text-center mb-6"},"Create an Account",-1)),l("form",{onSubmit:w(b,["prevent"])},[l("div",q,[l("div",null,[e[4]||(e[4]=l("label",{class:"block text-sm font-medium mb-1"},"Name",-1)),u(l("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.value=s),type:"text",placeholder:"Juan De la Cruz",required:"",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 outline-none"},null,512),[[d,o.value]])]),l("div",null,[e[6]||(e[6]=l("label",{class:"block text-sm font-medium mb-1"},"Role",-1)),u(l("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>t.value=s),required:"",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 outline-none"},[...e[5]||(e[5]=[l("option",{disabled:"",value:""},"Select role",-1),l("option",{value:"admin"},"Admin",-1),l("option",{value:"cashier"},"Cashier",-1)])],512),[[x,t.value]])]),l("div",null,[e[7]||(e[7]=l("label",{class:"block text-sm font-medium mb-1"},"Password",-1)),u(l("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>r.value=s),type:"password",placeholder:"••••••••",required:"",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 outline-none"},null,512),[[d,r.value]])]),l("div",null,[e[8]||(e[8]=l("label",{class:"block text-sm font-medium mb-1"},"Confirm Password",-1)),u(l("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>a.value=s),type:"password",placeholder:"••••••••",required:"",class:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-400 outline-none"},null,512),[[d,a.value]])]),e[9]||(e[9]=l("button",{type:"submit",class:"w-full bg-blue-600 text-white font-semibold py-2 rounded-lg hover:bg-blue-700 transition"}," Sign Up ",-1))])],32)])]))}};export{S as default};
