import{r as u,s as i,e as R,c,a as e,h as y,v as _,l as z,d as v,t as l,f as F,g as P,b as k,x as g,F as L,i as q,m as B,o as p}from"#entry";import{c as h}from"./DqO8Xu-7.js";/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=h("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=h("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-vue-next v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=h("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),D={class:"p-6 mx-auto"},H={class:"text-slate-800 dark:text-slate-100"},I={class:"mt-2 space-y-1"},$={class:"flex items-center gap-2 mt-4"},G={class:"bg-slate-50 dark:bg-slate-600 border-slate-200 dark:border-slate-700 text-slate-800 dark:text-slate-100 p-4 rounded shadow"},J={class:"flex justify-between items-center mb-4"},K={class:"table-auto w-full border-gray-400 text-sm"},O={class:"border p-2"},Q={class:"border p-2"},W={class:"border p-2"},X={class:"border p-2"},Y={class:"border p-2"},ee={class:"border p-2"},te={class:"border p-2"},se={class:"border p-2"},ae={class:"border p-2 space-x-2"},le=["onClick"],oe=["onClick"],re={key:0,class:"text-gray-500 text-sm mt-2"},ie={__name:"products",setup(de){const d=u(""),o=u(0),r=u(""),m=u([]),n=u(null);B();const f=i(()=>r.value==="vatable"?o.value:0),x=i(()=>r.value==="vatable"?o.value*.12:0),w=i(()=>r.value==="exempt"?o.value:0),T=i(()=>r.value==="zero"?o.value:0),V=i(()=>o.value+x.value);async function b(){try{m.value=await window.electron.invoke("get-products")}catch(a){console.error("Error fetching products:",a)}}function A(){n.value=null,d.value="",o.value=0,r.value=""}function N(a){n.value=a.id,d.value=a.productname,o.value=a.price,r.value=a.vatType}function S(){A()}async function E(){const a={productname:d.value,price:o.value,vatType:r.value,vatSales:f.value,vatAmount:x.value,vatExempt:w.value,zeroRated:T.value,total:V.value};n.value?(a.id=n.value,await window.electron.invoke("update-product",a)):await window.electron.invoke("add-product",a),A(),b()}async function M(a){confirm("Are you sure you want to delete this product?")&&(await window.electron.invoke("delete-product",a),b())}return R(b),(a,t)=>(p(),c("div",D,[e("form",{onSubmit:P(E,["prevent"]),class:"bg-slate-50 dark:bg-slate-600 border-slate-200 dark:border-slate-700 text-slate-800 dark:text-slate-100 p-4 rounded shadow mb-6 space-y-4"},[e("div",null,[t[3]||(t[3]=e("label",{class:"block font-semibold"},"Product Name",-1)),y(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value=s),class:"w-full border-gray-400 px-3 py-2 rounded bg-slate-50 dark:bg-slate-800",placeholder:"e.g. Services",required:""},null,512),[[_,d.value]])]),e("div",null,[t[4]||(t[4]=e("label",{class:"block font-semibold"},"Price",-1)),y(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>o.value=s),type:"number",step:"0.01",class:"w-full border-gray-400 px-3 py-2 rounded bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-100",required:""},null,512),[[_,o.value,void 0,{number:!0}]])]),e("div",H,[t[6]||(t[6]=e("label",{class:"block font-semibold"},"VAT Classification",-1)),y(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.value=s),class:"w-full border-gray-400 px-3 py-2 rounded bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-100",required:""},[...t[5]||(t[5]=[e("option",{disabled:"",value:""},"-- Select VAT Type --",-1),e("option",{value:"vatable"},"VATable (12%)",-1),e("option",{value:"exempt"},"VAT-Exempt",-1),e("option",{value:"zero"},"Zero-Rated",-1)])],512),[[z,r.value]])]),e("div",I,[e("p",null,[t[7]||(t[7]=v("VAT Sales: ",-1)),e("strong",null,"₱"+l(f.value.toFixed(2)),1)]),e("p",null,[t[8]||(t[8]=v("VAT Amount: ",-1)),e("strong",null,"₱"+l(x.value.toFixed(2)),1)]),e("p",null,[t[9]||(t[9]=v("VAT-Exempt Sales: ",-1)),e("strong",null,"₱"+l(w.value.toFixed(2)),1)]),e("p",null,[t[10]||(t[10]=v("Zero-Rated Sales: ",-1)),e("strong",null,"₱"+l(T.value.toFixed(2)),1)]),e("p",null,[t[11]||(t[11]=v("Total Price: ",-1)),e("strong",null,"₱"+l(V.value.toFixed(2)),1)])]),e("div",$,[t[12]||(t[12]=e("button",{type:"submit",class:"bg-sky-400 hover:bg-sky-600 font-semibold px-4 py-2 rounded"},"SAVE",-1)),n.value?(p(),c("button",{key:0,onClick:S,type:"button",class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded"}," CANCEL ")):F("",!0)])],32),e("div",G,[e("div",J,[e("button",{onClick:b,class:"bg-sky-400 hover:bg-sky-600 px-2 py-1 rounded text-lg"},[k(g(Z),{class:"w-4 h-4"})])]),e("table",K,[t[13]||(t[13]=e("thead",{class:"bg-slate-400"},[e("tr",{class:"dark:bg-slate-800 text-left"},[e("th",{class:"border p-2"},"Name"),e("th",{class:"border p-2"},"VAT Type"),e("th",{class:"border p-2"},"Price"),e("th",{class:"border p-2"},"VAT Sales"),e("th",{class:"border p-2"},"VAT Amount"),e("th",{class:"border p-2"},"VAT-Exempt"),e("th",{class:"border p-2"},"Zero-Rated"),e("th",{class:"border p-2"},"Total"),e("th",{class:"border p-2"},"Actions")])],-1)),e("tbody",null,[(p(!0),c(L,null,q(m.value,s=>(p(),c("tr",{key:s.id},[e("td",O,l(s.productname),1),e("td",Q,l(s.vatType),1),e("td",W,"₱"+l(Number(s.price||0).toFixed(2)),1),e("td",X,"₱"+l(Number(s.vatSales||0).toFixed(2)),1),e("td",Y,"₱"+l(Number(s.vatAmount||0).toFixed(2)),1),e("td",ee,"₱"+l(Number(s.vatExempt||0).toFixed(2)),1),e("td",te,"₱"+l(Number(s.zeroRated||0).toFixed(2)),1),e("td",se,"₱"+l(Number(s.total||0).toFixed(2)),1),e("td",ae,[e("button",{onClick:C=>N(s),class:"text-sky-600 hover:underline text-sm"},[k(g(U),{class:"w-4 h-4"})],8,le),e("button",{onClick:C=>M(s.id),class:"text-red-600 hover:underline text-sm"},[k(g(j),{class:"w-4 h-4"})],8,oe)])]))),128))])]),m.value.length===0?(p(),c("div",re," No products found. ")):F("",!0)])]))}};export{ie as default};
